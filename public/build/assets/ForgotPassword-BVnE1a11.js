import{u as f,r as N,j as e,H as g,L as l}from"./app-Bpwa3e0P.js";import{G as b,A as i,S as y}from"./GuestLayout-B-V1slbW.js";import{S as t,B as v}from"./shield-BzTFr0no.js";import{F as s}from"./Form-CgstAcKi.js";import{E as m}from"./envelope-DKmLx5N6.js";import{I as o}from"./InputGroup-WS52NjVa.js";import{A as w}from"./arrow-left-Bcwato3c.js";import"./InputGroupContext-DPLgKKNG.js";function P({status:n}){const{data:d,setData:x,post:p,processing:c,errors:a}=f({email:""}),[u,h]=N.useState(!1),j=r=>{r.preventDefault(),p(route("password.email"),{onSuccess:()=>h(!0)})};return e.jsxs(b,{children:[e.jsx(g,{title:"Forgot Password - GBV Portal"}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h4",{className:"fw-bold mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-secondary small",children:"Kitui County GBV Information System"})]}),n&&e.jsxs(i,{variant:"success",className:"mb-4 d-flex align-items-center gap-2",children:[e.jsx(t,{className:"flex-shrink-0",size:16}),e.jsx("span",{children:n})]}),u&&!a.email&&e.jsxs(i,{variant:"success",className:"mb-4 d-flex align-items-center gap-2",children:[e.jsx(t,{className:"flex-shrink-0",size:16}),e.jsx("span",{children:"We have emailed your password reset link! Please check your inbox."})]}),e.jsxs(i,{variant:"info",className:"mb-4 small d-flex align-items-center gap-2",children:[e.jsx(t,{className:"flex-shrink-0",size:16}),e.jsxs("span",{children:[e.jsx("strong",{children:"Security Notice:"})," Enter your registered email address and we'll send you a secure password reset link."]})]}),e.jsxs(s,{onSubmit:j,children:[e.jsxs(s.Group,{className:"mb-4",children:[e.jsxs(s.Label,{className:"small fw-semibold text-secondary",children:[e.jsx(m,{className:"me-1",size:12}),"Email Address"]}),e.jsxs(o,{children:[e.jsx(o.Text,{className:"bg-light",children:e.jsx(m,{size:16,className:"text-secondary"})}),e.jsx(s.Control,{type:"email",value:d.email,onChange:r=>x("email",r.target.value),placeholder:"gv.officer@kitui.go.ke",autoComplete:"username",autoFocus:!0,isInvalid:!!a.email})]}),a.email&&e.jsx(s.Text,{className:"text-danger small mt-1 d-block",children:a.email})]}),e.jsx(v,{type:"submit",variant:"primary",className:"w-100 py-2 mb-3 rounded-pill fw-semibold",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(y,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Sending reset link..."]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"me-2",size:16}),"Send Password Reset Link"]})}),e.jsx("div",{className:"text-center",children:e.jsxs(l,{href:route("login"),className:"small text-primary text-decoration-none d-inline-flex align-items-center gap-1",children:[e.jsx(w,{size:14}),"Back to Login"]})})]}),e.jsxs("div",{className:"mt-4 pt-3 border-top text-center",children:[e.jsx("p",{className:"small text-secondary mb-2",children:"Need immediate assistance?"}),e.jsxs("div",{className:"d-flex justify-content-center gap-3",children:[e.jsx(l,{href:"/contact",className:"small text-primary text-decoration-none",children:"Contact Support"}),e.jsx("span",{className:"text-secondary",children:"â€¢"}),e.jsx(l,{href:"/help",className:"small text-primary text-decoration-none",children:"Help Center"})]})]}),e.jsxs("div",{className:"d-flex align-items-center justify-content-center gap-2 mt-3",children:[e.jsx("div",{className:"bg-success rounded-circle",style:{width:"6px",height:"6px"}}),e.jsx("span",{className:"small text-secondary",children:"Secure password reset process"})]})]})}export{P as default};
